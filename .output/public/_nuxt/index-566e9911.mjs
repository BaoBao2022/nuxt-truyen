import{i as A,w as D,a as F,n as v,t as R}from"./index-7c9a43e8.mjs";import{r as P,I as C,y as J,b as H}from"./entry-b8207ed2.mjs";function h(e){var o;const t=J(e);return(o=t==null?void 0:t.$el)!=null?o:t}const y=A?window:void 0;function w(...e){let o,t,s,i;if(F(e[0])?([t,s,i]=e,o=y):[o,t,s,i]=e,!o)return v;let l=v;const p=H(()=>h(o),u=>{l(),u&&(u.addEventListener(t,s,i),l=()=>{u.removeEventListener(t,s,i),l=v})},{immediate:!0,flush:"post"}),d=()=>{p(),l()};return R(d),d}function V(e,o,t={}){const{window:s=y,ignore:i,capture:l=!0}=t;if(!s)return;const p=P(!0);let d;const u=n=>{s.clearTimeout(d);const a=h(e),c=n.composedPath();!a||a===n.target||c.includes(a)||!p.value||i&&i.length>0&&i.some(m=>{const g=h(m);return g&&(n.target===g||c.includes(g))})||o(n)},S=[w(s,"click",u,{passive:!0,capture:l}),w(s,"pointerdown",n=>{const a=h(e);p.value=!!a&&!n.composedPath().includes(a)},{passive:!0}),w(s,"pointerup",n=>{if(n.button===0){const a=n.composedPath();n.composedPath=()=>a,d=s.setTimeout(()=>u(n),50)}},{passive:!0})];return()=>S.forEach(n=>n())}const O=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},E="__vueuse_ssr_handlers__";O[E]=O[E]||{};const G=O[E];function M(e,o){return G[e]||o}function U(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"||Array.isArray(e)?"object":Number.isNaN(e)?"any":"number"}const x={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}};function $(e,o,t,s={}){var i;const{flush:l="pre",deep:p=!0,listenToStorageChanges:d=!0,writeDefaults:u=!0,shallow:S,window:b=y,eventFilter:n,onError:a=r=>{console.error(r)}}=s,c=(S?C:P)(o);if(!t)try{t=M("getDefaultStorage",()=>{var r;return(r=y)==null?void 0:r.localStorage})()}catch(r){a(r)}if(!t)return c;const m=J(o),g=U(m),N=(i=s.serializer)!=null?i:x[g],{pause:L,resume:W}=D(c,()=>j(c.value),{flush:l,deep:p,eventFilter:n});return b&&d&&w(b,"storage",T),T(),c;function j(r){try{r==null?t.removeItem(e):t.setItem(e,N.write(r))}catch(f){a(f)}}function z(r){if(!(r&&r.key!==e)){L();try{const f=r?r.newValue:t.getItem(e);return f==null?(u&&m!==null&&t.setItem(e,N.write(m)),m):typeof f!="string"?f:N.read(f)}catch(f){a(f)}finally{W()}}}function T(r){r&&r.key!==e||(c.value=z(r))}}var _;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(_||(_={}));export{V as o,$ as u};
