import{_ as k,d as C,f as A,a as L,u as M,r as T,H as D,A as E,o as i,c as j,e as m,h as g,i as u,j as t,t as p,C as x,F as B,k as N,l as P,g as z,B as w}from"./entry-b8207ed2.mjs";import{a as S,_ as F}from"./client-only-2813a9b5.mjs";import{u as y,k as H}from"./storage-49453dae.mjs";import{S as b,M as V,b as G}from"./index-f67d4f5a.mjs";import{u as I}from"./index-566e9911.mjs";import{u as O}from"./useFirstPathChapter-6b4114d4.mjs";import{A as R,G as J,J as q}from"./disclosure-5c2aa184.mjs";import"./asyncData-2e01ffb0.mjs";import"./index-7c9a43e8.mjs";import"./use-resolve-button-type-f15fddb7.mjs";import"./open-closed-03b1d5d3.mjs";const K=async(d,a)=>{var h,l;const c=a||(d==null?void 0:d.slug),{data:e}=await y(`/api/comic?slug=${c}&source=${b.netTruyen}`);if(!e.value)return"";const s=e.value,o=I(H.MANGA_DETAIL,"");o.value=null,o.value=JSON.stringify(s);const _=(s==null?void 0:s.chapterList)&&(s==null?void 0:s.chapterList[(h=s.chapterList)==null?void 0:h.length].chapterId),f=s.chapterList&&s.chapterList[(l=s.chapterList)==null?void 0:l.length].chapterNumber;return`/${V}/${G}/${c}/${f}/${_}`},Q=C(()=>A(()=>import("./Chaplist-29c3b250.mjs"),["Chaplist-29c3b250.mjs","entry-b8207ed2.mjs","entry.89390574.css","storage-49453dae.mjs","asyncData-2e01ffb0.mjs","index-f67d4f5a.mjs","index-566e9911.mjs","index-7c9a43e8.mjs"])),U=L({__name:"TheMangaDetail",setup(d,{expose:a}){var n,r;a();const c=M(),e=c.params,s=T("");D(()=>{s.value=e.slug});const{data:o,pending:_}=y(`/api/comic?slug=${s.value}&source=${b.netTruyen}`);console.log("manga",o.value),E({title:(n=o.value)==null?void 0:n.title,description:(r=o.value)==null?void 0:r.author});const l={route:c,params:e,slug:s,manga:o,pending:_,navigateToManga:async()=>{const v=await O(null,s.value);return w({path:v})},navigateLastToManga:async()=>{const v=await K(null,s.value);return w({path:v})},Disclosure:R,DisclosureButton:J,DisclosurePanel:q};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),W={key:0},X={key:1,class:"flex h-fit flex-col",style:{height:"auto"}},Y={class:"absolute inset-0 z-0 h-[35%] w-full lg:h-[45%]"},Z={class:"deslide-cover"},$={class:"default-span-figure"},tt=["src","srcset"],et={class:"z-10 mx-auto w-[85%] pt-16"},st={class:"h-fit w-full"},at={class:"flex h-full w-full flex-col items-center overflow-x-hidden md:flex-row md:items-start"},ot={class:"mt-4 w-[60%] md:w-[250px] md:min-w-[250px]"},nt={class:"aspect-w-3 aspect-h-5 relative rounded-2xl"},lt={class:"default-span-figure"},rt=["srcset","src"],ct={class:"flex h-full w-full flex-col justify-center p-4 text-white md:min-h-[430px] lg:ml-4"},it={class:"w-full space-y-4 text-center md:ml-2 md:text-left lg:w-[80%]"},ut={class:"font-secondary font-bold leading-none text-[6.5vw] md:text-[5.5vw] lg:text-[3.5vw]"},dt=t("h2",{class:"text-[3vw] md:min-h-[28px] md:text-[2vw] lg:text-[1.2vw]"},null,-1),_t={class:"text-center text-[3vw] md:text-left md:text-[2vw] lg:text-[1.1vw]"},ht={class:"flex items-center justify-center gap-4 md:justify-start"},mt=t("span",{class:"block h-3 w-3 rounded-full bg-green-500"},null,-1),gt={class:"mt-4 flex flex-col-reverse gap-2 md:flex-col"},pt={class:"my-4 flex flex-wrap items-center gap-4"},ft=t("h3",{class:"px-2 py-2"},"Th\u1EC3 lo\u1EA1i:",-1),xt={href:"/browse?genres=mystery"},vt={class:"flex h-[150px] w-full flex-col items-center gap-6 md:flex-row md:items-start"},wt=t("button",{class:"pulse-effect-primary absolute-center h-[50px] w-[150px] gap-3 rounded-2xl bg-primary transition-all hover:scale-[110%]"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true",class:"h-8 w-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})]),x(" \u0110\u1ECDc ngay ")],-1),yt=[wt],bt=t("button",{class:"pulse-effect-secondary absolute-center h-[50px] w-[150px] gap-3 rounded-2xl bg-white text-gray-800 transition-all hover:scale-[110%]"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",class:"h-8 w-8 text-primary"},[t("path",{"fill-rule":"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z","clip-rule":"evenodd"})]),x(" Chap m\u1EDBi nh\u1EA5t ")],-1),kt=[bt],Ct=t("button",{class:"shine-effect absolute-center bg-hight-light h-[50px] w-[50px] rounded-xl transition-all hover:text-primary"},[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true",class:"h-8 w-8"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})])],-1),At={class:"flex-col-reverse flex"},Lt={class:"flex w-full flex-col items-center bg-cyan-300/0 text-white"},Mt=x(" T\xF3m t\u1EAFt "),Tt=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),Dt=[Tt],Et={class:"text-white"};function jt(d,a,c,e,s,o){const _=S,f=F,h=Q,l=z;return i(),j(l,null,{default:m(()=>[e.pending?(i(),g("div",W,[u(_)])):(i(),g("div",X,[t("div",Y,[t("figure",Z,[t("span",$,[t("img",{alt:"comic-banner",src:e.manga.thumbnail,decoding:"async","data-nimg":"fill",class:"count={10} object-fit absolute h-full w-full bg-cover bg-top bg-no-repeat object-cover blur default-img",sizes:"100vw",srcset:e.manga.thumbnail},null,8,tt)])])]),t("div",et,[t("section",st,[t("div",at,[t("div",ot,[t("figure",nt,[t("span",lt,[t("img",{alt:"manga-thumbnail",sizes:"100vw",srcset:e.manga.thumbnail,src:e.manga.thumbnail,decoding:"async","data-nimg":"fill",class:"absolute inset-0 rounded-2xl object-cover object-center default-img"},null,8,rt)])])]),t("div",ct,[t("div",it,[t("h1",ut,p(e.manga.title),1),dt,t("h3",_t,p(e.manga.author),1),t("h4",ht,[mt,x(" "+p(e.manga.status),1)])]),t("div",gt,[t("ul",pt,[ft,(i(!0),g(B,null,N(e.manga.genres,(n,r)=>(i(),g("li",{class:"rounded-xl bg-highlight px-4 py-2",key:`genre${r}`},[t("a",xt,p(n.genreTitle),1)]))),128))]),t("div",vt,[t("a",{onClick:a[0]||(a[0]=n=>e.navigateToManga())},yt),t("a",{onClick:a[1]||(a[1]=n=>e.navigateLastToManga())},kt),Ct])])])])]),t("div",At,[u(f,null,{default:m(()=>[u(e.Disclosure,null,{default:m(({open:n})=>[u(e.DisclosureButton,null,{default:m(()=>[t("button",Lt,[Mt,(i(),g("svg",{class:P([n?"rotate-180 transform":"","h-8 w-8"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},Dt,2))])]),_:2},1024),u(e.DisclosurePanel,{class:"transform scale-100 opacity-100"},{default:m(()=>{var r;return[t("p",Et,p((r=e.manga)==null?void 0:r.review),1)]}),_:1})]),_:1})]),_:1})]),u(h,{slug:e.slug,chapterList:e.manga.chapterList},null,8,["slug","chapterList"])])]))]),_:1})}var Rt=k(U,[["render",jt]]);export{Rt as default};
