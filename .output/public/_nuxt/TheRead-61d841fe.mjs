import{o as _,c as m,i as t,_ as $,d as x,f as b,a as D,u as E,V as O,r as k,A as S,h as C,j as a,e as M,t as P}from"./entry-b8207ed2.mjs";import{a as j,_ as B}from"./client-only-2813a9b5.mjs";import{u as H,k as V}from"./storage-49453dae.mjs";import{M as z,b as T}from"./index-f67d4f5a.mjs";import{u as G}from"./useMangaDetailPagePath-38a61a49.mjs";import{u as F}from"./index-566e9911.mjs";import{i as J}from"./index-7c9a43e8.mjs";function q(s,r){return _(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function K(s,r){return _(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z","clip-rule":"evenodd"})])}function Q(s,r){return _(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z","clip-rule":"evenodd"})])}function U(s,r){return _(),m("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})])}const W=x(()=>b(()=>import("./entry-b8207ed2.mjs").then(function(s){return s.a6}),["entry-b8207ed2.mjs","entry.89390574.css"])),X=x(()=>b(()=>import("./ChapterImg-540bab58.mjs"),["ChapterImg-540bab58.mjs","entry-b8207ed2.mjs","entry.89390574.css"])),Y=x(()=>b(()=>import("./ReadMangaFooter-37cf9de8.mjs"),["ReadMangaFooter-37cf9de8.mjs","entry-b8207ed2.mjs","entry.89390574.css","client-only-2813a9b5.mjs","storage-49453dae.mjs","asyncData-2e01ffb0.mjs","index-f67d4f5a.mjs","useMangaDetailPagePath-38a61a49.mjs","index-566e9911.mjs","index-7c9a43e8.mjs"])),Z=D({__name:"TheRead",setup(s,{expose:r}){var y,I;r();const g=E(),e=O(),n=g.params,u=k(n.id),c=k(n.chapter),f=n.slug.slice(0,n.slug.lastIndexOf("-")),{pending:v,data:w,refresh:h}=H(`/api/chapters?slug=${f}&chapter=${c.value}&id=${u.value}`),o=F(V.MANGA_DETAIL,{serializer:{read:l=>l?JSON.parse(l):null,write:l=>JSON.stringify(l)}}),A=()=>{J&&window.scrollTo(0,0)},L=async l=>{let d=o.value.chapterList.findIndex(i=>i.chapterNumber===n.chapter);if(l==="next"){if(!o.value.chapterList[--d])return;const[i,p]=[o.value.chapterList[d].chapterNumber,o.value.chapterList[d].chapterId];u.value=p,c.value=i,e.replace(`/${z}/${T}/${n.slug}/${i}/${p}`),await h()}if(l==="prev"){if(!o.value.chapterList[++d])return;const[i,p]=[o.value.chapterList[d].chapterNumber,o.value.chapterList[d].chapterId];c.value=i,u.value=p,e.replace(`/${z}/${T}/${n.slug}/${i}/${p}`)}await h(),A()},R=l=>{L(l)};S({title:`${(y=o.value)==null?void 0:y.title} | Chapter ${c.value}`,description:(I=o.value)==null?void 0:I.review});const N={route:g,router:e,params:n,chapterID:u,chapterNumber:c,realSlug:f,pending:v,chapters:w,refresh:h,manga:o,scrollToTop:A,handleChapter:L,handleNextProcess:R,CogIcon:U,useMangaDetailPagePath:G,ArrowLeftIcon:q,ArrowNarrowLeftIcon:K,ArrowRightIcon:Q};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),ee={key:0},te={key:1,class:"flex h-fit min-h-screen flex-col bg-black"},ae={class:"relative flex h-fit flex-1 text-white"},oe={class:"h-fit min-h-screen w-full bg-black"},re={class:"fixed top-0 left-0 z-[999] h-[60px] w-full"},ne={class:"flex h-full w-full items-center justify-between text-lg md:text-2xl bg-black"},le={class:"flex h-full w-fit items-center justify-evenly gap-4 px-4 md:space-x-4"},se={class:"fond-bold h-fit w-[25%] capitalize line-clamp-1 md:w-[30%]"},ce={class:"h-[60%] w-fit max-w-[80px] whitespace-nowrap rounded-xl bg-highlight p-2 text-base line-clamp-1 md:text-lg"},ie={class:"absolute-center h-full w-fit gap-4 md:mx-6"},de={class:"flex h-full w-fit items-center pr-2 md:gap-10 md:px-4"},_e={class:"rounded-lg bg-highlight p-2"};function ue(s,r,g,e,n,u){const c=j,f=W,v=B,w=X,h=Y;return e.pending?(_(),C("div",ee,[t(c)])):(_(),C("div",te,[a("div",ae,[a("div",oe,[a("div",re,[a("div",ne,[a("div",le,[t(f,{to:e.useMangaDetailPagePath(e.params.slug),class:"flex"},{default:M(()=>[a("button",null,[t(e.ArrowNarrowLeftIcon,{class:"h-8 w-8"})])]),_:1},8,["to"]),t(v,null,{default:M(()=>[a("h1",se,P(e.manga.title),1)]),_:1}),a("button",ce," Chapter: "+P(e.chapterNumber),1),a("div",ie,[a("button",{"data-id":"prev",class:"rounded-lg bg-highlight p-4 md:p-4",onClick:r[0]||(r[0]=o=>e.handleChapter("prev"))},[t(e.ArrowLeftIcon,{class:"h-6 w-6"})]),a("button",{"data-id":"next",class:"rounded-lg bg-highlight p-4 md:p-4",onClick:r[1]||(r[1]=o=>e.handleChapter("next"))},[t(e.ArrowRightIcon,{class:"w-6 h-6"})])])]),a("div",de,[a("button",_e,[t(e.CogIcon,{class:"h8 w-8"})])])])]),t(w,{chapters:e.chapters.data},null,8,["chapters"]),t(h,{onNextProcess:e.handleNextProcess})])])]))}var he=$(Z,[["render",ue]]),be=Object.freeze(Object.defineProperty({__proto__:null,default:he},Symbol.toStringTag,{value:"Module"}));export{be as T,Q as a,q as r};
